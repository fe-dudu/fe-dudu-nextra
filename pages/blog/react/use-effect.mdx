# useEffect 3ê°€ì§€ ì‚¬ìš© íŒ¨í„´

React useEffectì˜ 3ê°€ì§€ ì‚¬ìš© íŒ¨í„´ì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤.

## ì˜ì¡´ì„± ë°°ì—´ ì—†ëŠ” useEffect

```javascript
useEffect(() => {
  // This runs after every render
})
```

- **ì‹¤í–‰ ì‹œì **: ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
- **ì‚¬ìš© ì‚¬ë¡€**: ëª¨ë“  ìƒíƒœ ë³€í™”ë¥¼ ì¶”ì í•´ì•¼ í•  ë•Œ, DOM ì—…ë°ì´íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•´ì•¼ í•  ë•Œ
- **ì£¼ì˜ì‚¬í•­**: ë„ˆë¬´ ìì£¼ ì‹¤í–‰ë  ìˆ˜ ìˆì–´ ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŒ, ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŒ, ê°€ëŠ¥í•˜ë©´ í”¼í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

## ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ì´ ìˆëŠ” useEffect

```javascript
useEffect(() => {
  // This runs only on mount
}, [])
```

- **ì‹¤í–‰ ì‹œì **: ì»´í¬ë„ŒíŠ¸ê°€ ì²˜ìŒ ë§ˆìš´íŠ¸ ëœ ì‹œì 
- **ì‚¬ìš© ì‚¬ë¡€**: ì´ˆê¸° ë°ì´í„° í˜ì¹­, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •, ì™¸ë¶€ API ì—°ê²°, íƒ€ì´ë¨¸ ì„¤ì •
- **ì£¼ì˜ì‚¬í•­**: í´ë¦°ì—… í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì‹¤í–‰ë¨, ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)ì—ì„œëŠ” ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ (web API, data fetching, event listener ë“±)

## ì˜ì¡´ì„± ë°°ì—´ì´ ìˆëŠ” useEffect

```javascript
useEffect(() => {
  // This runs on mount and when dependencies change
}, [a, b])
```

- **ì‹¤í–‰ ì‹œì **: ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸, ì˜ì¡´ì„± ë°°ì—´ì˜ ê°’ì´ ë³€ê²½
- **ì‚¬ìš© ì‚¬ë¡€**: íŠ¹ì • ìƒíƒœ ë³€í™”ì— ë”°ë¥¸ ë¶€ìˆ˜ íš¨ê³¼ ì²˜ë¦¬, API í˜¸ì¶œ (íŠ¹ì • ê°’ì´ ë³€ê²½ë  ë•Œ)
- **ì£¼ì˜ì‚¬í•­**: ì˜ì¡´ì„± ë°°ì—´ì— ëˆ„ë½ëœ ì˜ì¡´ì„±ì´ ìˆìœ¼ë©´ ë²„ê·¸ ë°œìƒ ê°€ëŠ¥, ê°ì²´ë‚˜ ë°°ì—´ì„ ì˜ì¡´ì„±ìœ¼ë¡œ ì‚¬ìš©í•  ë•ŒëŠ” ì£¼ì˜ í•„ìš”, ë¶ˆí•„ìš”í•œ ì‹¤í–‰ì„ í”¼í•˜ê¸° ìœ„í•´ ë©”ëª¨ì´ì œì´ì…˜ ê³ ë ¤

## ğŸš§ useEffectEvent (React 18.2 - experimental)

- **useCallback**

```javascript
function Page({ url }) {
  const { items } = useContext(ShoppingCartContext);
  const numberOfItems = items.length;

  const onVisit = useCallback((visitedUrl) => {
    logVisit(visitedUrl, numberOfItems);
  }, [numberOfItems]);

  useEffect(() => {
    onVisit(url);
  }, [url, onVisit]);
  ...
}
```

- **useEffectEvent**

```javascript
function Page({ url }) {
  const { items } = useContext(ShoppingCartContext)
  const numberOfItems = items.length

  const onVisit = useEffectEvent((visitedUrl) => {
    logVisit(visitedUrl, numberOfItems)
  })

  useEffect(() => {
    onVisit(url)
  }, [url]) // âœ… All dependencies declared
  // ...
}
```

- **ì‹¤í–‰ ì‹œì **: useEffect ë‚´ë¶€ì—ì„œ ì‹¤í–‰
- **ì‚¬ìš© ì‚¬ë¡€**: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì—ì„œ ìµœì‹  ìƒíƒœë¥¼ í•­ìƒ ì•ˆì •ì ìœ¼ë¡œ ì°¸ì¡°, useEffectì˜ ê³¼ë„í•œ ì˜ì¡´ì„± í•´ê²°
- **ì£¼ì˜ì‚¬í•­**: useEffect ë‚´ë¶€ì—ì„œë§Œ í˜¸ì¶œ ê°€ëŠ¥, ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë‚˜ Hooksì— ì „ë‹¬ ë¶ˆê°€

## ì°¸ê³  ìë£Œ

- [React Docs | synchronizing with effects](https://reactjs.org/docs/faq-ajax.html#synchronizing-with-effects)
- [React Docs | separating events from effects](https://reactjs.org/docs/faq-ajax.html#separating-events-from-effects)
